DEBUG 2025-01-15 11:56:49,489 middleware JWTMiddleware: Processing request for path /update-game-score/12/
DEBUG 2025-01-15 11:56:49,489 middleware JWTMiddleware: Processing request for path /update-game-score/12/
DEBUG 2025-01-15 11:56:49,489 authentication Token received: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4
DEBUG 2025-01-15 11:56:49,489 authentication Token received: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4
DEBUG 2025-01-15 11:56:49,489 authentication Decoded token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4
DEBUG 2025-01-15 11:56:49,489 authentication Decoded token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4
DEBUG 2025-01-15 11:56:49,490 utils Fetching user data from http://user_service:8080/api/user/1/ with headers {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4'}
DEBUG 2025-01-15 11:56:49,498 utils Response received: 200 - {"id":1,"username":"alex","email":"jeeje@goer.com"}
INFO 2025-01-15 11:56:49,498 utils Successfully fetched user data for user_id 1: {'id': 1, 'username': 'alex', 'email': 'jeeje@goer.com'}
INFO 2025-01-15 11:56:49,498 middleware JWTMiddleware: Authentication successful for user User(id=1, username='alex', is_authenticated=True)
INFO 2025-01-15 11:56:49,498 middleware JWTMiddleware: Authentication successful for user User(id=1, username='alex', is_authenticated=True)
DEBUG 2025-01-15 11:56:49,499 authentication Token received: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4
DEBUG 2025-01-15 11:56:49,499 authentication Token received: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4
DEBUG 2025-01-15 11:56:49,499 authentication Decoded token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4
DEBUG 2025-01-15 11:56:49,499 authentication Decoded token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4
DEBUG 2025-01-15 11:56:49,499 utils Fetching user data from http://user_service:8080/api/user/1/ with headers {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwMzEyLCJpYXQiOjE3MzY5Mzc5MTIsImp0aSI6IjFlYTIwZWJmNWNiNDRjMWU5MDhmOTlmMzdiY2QxYmNjIiwidXNlcl9pZCI6MX0.B1E8CNfUHbQuuSIumr5R87SgUBhs08sVC2P9Yr6vTN4'}
DEBUG 2025-01-15 11:56:49,506 utils Response received: 200 - {"id":1,"username":"alex","email":"jeeje@goer.com"}
INFO 2025-01-15 11:56:49,506 utils Successfully fetched user data for user_id 1: {'id': 1, 'username': 'alex', 'email': 'jeeje@goer.com'}
DEBUG 2025-01-15 11:56:49,506 views Requête reçue pour mettre à jour le score du jeu 12 par l'utilisateur 1
DEBUG 2025-01-15 11:56:49,506 views Requête reçue pour mettre à jour le score du jeu 12 par l'utilisateur 1
DEBUG 2025-01-15 11:56:49,511 utils get_user called with user_id: 1 and token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwOTk1LCJpYXQiOjE3MzY5Mzg1OTUsImp0aSI6IjYyOGQ4NzhiYjYyYzRlZjJiMTZlMmExYzE0YmQ3ODlkIiwidXNlcl9pZCI6MX0.H8ZrfiGp0KVHH0WLo5K3qw2xeux0tL8C6SB4JsADGM8
DEBUG 2025-01-15 11:56:49,511 utils Fetching user data from http://user_service:8080/api/user/1/ with headers {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwOTk1LCJpYXQiOjE3MzY5Mzg1OTUsImp0aSI6IjYyOGQ4NzhiYjYyYzRlZjJiMTZlMmExYzE0YmQ3ODlkIiwidXNlcl9pZCI6MX0.H8ZrfiGp0KVHH0WLo5K3qw2xeux0tL8C6SB4JsADGM8'}
DEBUG 2025-01-15 11:56:49,519 utils Response received: 200 - {"id":1,"username":"alex","email":"jeeje@goer.com"}
INFO 2025-01-15 11:56:49,519 utils Successfully fetched user data for user_id 1: {'id': 1, 'username': 'alex', 'email': 'jeeje@goer.com'}
INFO 2025-01-15 11:56:49,519 utils User data retrieved: {'id': 1, 'username': 'alex', 'email': 'jeeje@goer.com'}
DEBUG 2025-01-15 11:56:49,519 utils get_user called with user_id: 2 and token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwOTk1LCJpYXQiOjE3MzY5Mzg1OTUsImp0aSI6IjYyOGQ4NzhiYjYyYzRlZjJiMTZlMmExYzE0YmQ3ODlkIiwidXNlcl9pZCI6MX0.H8ZrfiGp0KVHH0WLo5K3qw2xeux0tL8C6SB4JsADGM8
DEBUG 2025-01-15 11:56:49,519 utils Fetching user data from http://user_service:8080/api/user/2/ with headers {'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzM2OTQwOTk1LCJpYXQiOjE3MzY5Mzg1OTUsImp0aSI6IjYyOGQ4NzhiYjYyYzRlZjJiMTZlMmExYzE0YmQ3ODlkIiwidXNlcl9pZCI6MX0.H8ZrfiGp0KVHH0WLo5K3qw2xeux0tL8C6SB4JsADGM8'}
DEBUG 2025-01-15 11:56:49,526 utils Response received: 200 - {"id":2,"username":"test_user","email":"test_user@example.com"}
INFO 2025-01-15 11:56:49,526 utils Successfully fetched user data for user_id 2: {'id': 2, 'username': 'test_user', 'email': 'test_user@example.com'}
INFO 2025-01-15 11:56:49,526 utils User data retrieved: {'id': 2, 'username': 'test_user', 'email': 'test_user@example.com'}
DEBUG 2025-01-15 11:56:49,526 views GameSession récupérée : GameSession 12 between alex and test_user
DEBUG 2025-01-15 11:56:49,526 views GameSession récupérée : GameSession 12 between alex and test_user
DEBUG 2025-01-15 11:56:49,526 views Score reçu : 10
DEBUG 2025-01-15 11:56:49,526 views Score reçu : 10
DEBUG 2025-01-15 11:56:49,527 views Score de player1 mis à jour par 1
DEBUG 2025-01-15 11:56:49,527 views Score de player1 mis à jour par 1
INFO 2025-01-15 11:56:49,527 views Le match 12 dépasse la limite de temps. Il sera terminé.
INFO 2025-01-15 11:56:49,527 views Le match 12 dépasse la limite de temps. Il sera terminé.
INFO 2025-01-15 11:56:49,527 views Match 12 terminé. Vainqueur : 1.
INFO 2025-01-15 11:56:49,527 views Match 12 terminé. Vainqueur : 1.
DEBUG 2025-01-15 11:56:49,527 views Mise à jour des statistiques pour le vainqueur 1.
DEBUG 2025-01-15 11:56:49,527 views Mise à jour des statistiques pour le vainqueur 1.
DEBUG 2025-01-15 11:56:49,527 utils Authorization header used: {'Authorization': 'Bearer 0201d2b222e3d58c5540cb05238d1f85fe964440aa9f0277299ec8011f71d1b4'}
ERROR 2025-01-15 11:56:49,528 utils Erreur lors de la mise à jour des stats : 401, {'error': 'Authentication failed', 'details': "{'detail': ErrorDetail(string='Given token not valid for any token type', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid'), 'messages': [{'token_class': ErrorDetail(string='AccessToken', code='token_not_valid'), 'token_type': ErrorDetail(string='access', code='token_not_valid'), 'message': ErrorDetail(string='Token is invalid or expired', code='token_not_valid')}]}"}
ERROR 2025-01-15 11:56:49,529 views Erreur inattendue : User Service error: 401, {'error': 'Authentication failed', 'details': "{'detail': ErrorDetail(string='Given token not valid for any token type', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid'), 'messages': [{'token_class': ErrorDetail(string='AccessToken', code='token_not_valid'), 'token_type': ErrorDetail(string='access', code='token_not_valid'), 'message': ErrorDetail(string='Token is invalid or expired', code='token_not_valid')}]}"}
ERROR 2025-01-15 11:56:49,529 views Erreur inattendue : User Service error: 401, {'error': 'Authentication failed', 'details': "{'detail': ErrorDetail(string='Given token not valid for any token type', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid'), 'messages': [{'token_class': ErrorDetail(string='AccessToken', code='token_not_valid'), 'token_type': ErrorDetail(string='access', code='token_not_valid'), 'message': ErrorDetail(string='Token is invalid or expired', code='token_not_valid')}]}"}
ERROR 2025-01-15 11:56:49,529 log Internal Server Error: /update-game-score/12/
ERROR 2025-01-15 11:56:49,529 basehttp "POST /update-game-score/12/ HTTP/1.1" 500 38
ERROR 2025-01-15 11:56:49,529 basehttp "POST /update-game-score/12/ HTTP/1.1" 500 38
